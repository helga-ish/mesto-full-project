{"ast":null,"code":"import _classCallCheck from\"/Users/helga_ish/Desktop/Web/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/helga_ish/Desktop/Web/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(config){_classCallCheck(this,Api);this._url=config.url;this._headers=config.headers;}_createClass(Api,[{key:\"_promiseResponse\",value:function _promiseResponse(res){if(res.ok){return res.json();}return Promise.reject('Произошла ошибка');}},{key:\"getInitialCards\",value:function getInitialCards(){var _this=this;return fetch(\"\".concat(this._url,\"cards\"),{method:'GET',headers:this._headers}).then(function(res){return _this._promiseResponse(res);});}},{key:\"getProfileUserInfo\",value:function getProfileUserInfo(){var _this2=this;return fetch(\"\".concat(this._url,\"users/me\"),{method:'GET',headers:this._headers}).then(function(res){return _this2._promiseResponse(res);});}},{key:\"changeProfileUserInfo\",value:function changeProfileUserInfo(data){var _this3=this;return fetch(\"\".concat(this._url,\"users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({name:data.name,about:data.about})}).then(function(res){return _this3._promiseResponse(res);});}},{key:\"editAvatar\",value:function editAvatar(data){var _this4=this;return fetch(\"\".concat(this._url,\"users/me/avatar\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:data.avatar})}).then(function(res){return _this4._promiseResponse(res);});}},{key:\"addCard\",value:function addCard(data){var _this5=this;return fetch(\"\".concat(this._url,\"cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:data.name,link:data.link})}).then(function(res){return _this5._promiseResponse(res);});}},{key:\"deleteCard\",value:function deleteCard(cardId){var _this6=this;return fetch(\"\".concat(this._url,\"cards/\").concat(cardId),{method:'DELETE',headers:this._headers}).then(function(res){return _this6._promiseResponse(res);});}},{key:\"changeLikeStatus\",value:function changeLikeStatus(cardId,like){var _this7=this;return fetch(\"\".concat(this._url,\"cards/\").concat(cardId,\"/likes\"),{method:like?'PUT':'DELETE',headers:this._headers}).then(function(res){return _this7._promiseResponse(res);});}}]);return Api;}();var api=new Api({url:'https://mesto.nomoreparties.co/v1/cohort-62/',headers:{Authorization:'4471ba4a-88e3-4225-a99c-10facf8d16dd','content-type':'application/json'}});export default api;","map":{"version":3,"names":["Api","config","_classCallCheck","_url","url","_headers","headers","_createClass","key","value","_promiseResponse","res","ok","json","Promise","reject","getInitialCards","_this","fetch","concat","method","then","getProfileUserInfo","_this2","changeProfileUserInfo","data","_this3","body","JSON","stringify","name","about","editAvatar","_this4","avatar","addCard","_this5","link","deleteCard","cardId","_this6","changeLikeStatus","like","_this7","api","Authorization"],"sources":["/Users/helga_ish/Desktop/Web/dev/react-mesto-auth/src/utils/api.js"],"sourcesContent":["class Api {\n    constructor(config) {\n        this._url = config.url;\n        this._headers = config.headers;\n    }\n\n    _promiseResponse(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject('Произошла ошибка');\n    }\n\n    getInitialCards() {\n        return fetch(`${this._url}cards`, {\n        method: 'GET',\n        headers: this._headers,\n    }).then((res) => {\n        return this._promiseResponse(res);\n    });\n    }\n\n    getProfileUserInfo() {\n        return fetch(`${this._url}users/me`, {\n            method: 'GET',\n            headers: this._headers,\n        }).then((res) => {\n            return this._promiseResponse(res);\n        });\n    }\n\n    changeProfileUserInfo(data) {\n        return fetch(`${this._url}users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: data.name,\n                about: data.about\n            })\n        }).then((res) => {\n            return this._promiseResponse(res);\n        });\n    }\n\n    editAvatar(data) {\n        return fetch(`${this._url}users/me/avatar`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                avatar: data.avatar\n            })\n        }).then((res) => {\n            return this._promiseResponse(res);\n        });\n    }\n\n    addCard(data) {\n        return fetch(`${this._url}cards`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: data.name,\n                link: data.link\n            })\n        }).then((res) => {\n            return this._promiseResponse(res);\n        });\n    }\n\n    deleteCard(cardId) {\n        return fetch(`${this._url}cards/${cardId}`, {\n            method: 'DELETE',\n            headers: this._headers,\n        }).then((res) => {\n            return this._promiseResponse(res);\n        });\n    }\n\n    changeLikeStatus(cardId, like) {\n        return fetch(`${this._url}cards/${cardId}/likes`, {\n            method: like ? 'PUT' : 'DELETE',\n            headers: this._headers,\n        }).then((res) => {\n            return this._promiseResponse(res);\n        });\n    }\n}\n\nconst api = new Api({\n    url: 'https://mesto.nomoreparties.co/v1/cohort-62/',\n    headers: {\n      Authorization: '4471ba4a-88e3-4225-a99c-10facf8d16dd',\n      'content-type': 'application/json'\n    }\n})\n\nexport default api;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}